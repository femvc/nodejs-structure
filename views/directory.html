<!DOCTYPE html>
<html>

<head>
<meta charset='utf-8'>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>Listing directory {directory}</title>
<style>{style}</style>
<script>
function $(id) {
    var el = 'string' == typeof id ? document.getElementById(id) : id;

    el.on = function (event, fn) {
        if ('content loaded' == event) {
            event = window.attachEvent ? "load" : "DOMContentLoaded";
        }
        el.addEventListener ? el.addEventListener(event, fn, false) : el.attachEvent("on" + event, fn);
    };

    el.all = function (selector) {
        return $(el.querySelectorAll(selector));
    };

    el.each = function (fn) {
        for (var i = 0, len = el.length; i < len; ++i) {
            fn($(el[i]), i);
        }
    };

    el.getClasses = function () {
        return this.getAttribute('class').split(/\s+/);
    };

    el.addClass = function (name) {
        var classes = this.getAttribute('class');
        el.setAttribute('class', classes ? classes + ' ' + name : name);
    };

    el.removeClass = function (name) {
        var classes = this.getClasses().filter(function (curr) {
            return curr != name;
        });
        this.setAttribute('class', classes.join(' '));
    };

    return el;
}

$(window).on('content loaded', function () {

});

window.onload = function () {
    var list = document.getElementsByTagName('a');
    for (var i = 0, len = list.length; i < len; i++) {
        if ('.js.json.css.sass.less.htm.html.'.indexOf('.' + list[i].href.split('.').pop() + '.') > -1) {
            list[i].href = 'http://static.bpm.ymatou.com/build' + list[i].href.split('build')[1];
        }
    }
};
</script>
</head>

<body class="directory">
    <h1>Satic File Server</h1>
    <div style="background-color: #000; font-family: monospace; padding-left: 10px;">
        <a href="/packlist" style="color: #555;">&lt;&lt; Module List</a>
    </div>
    <div id="wrapper">
        <h1><a href="/"></a>{linked-path}</h1> {files}
    </div>
</body>

</html>
